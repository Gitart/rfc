# Формат электронных документов JSON MMO (Draft) #

Искомый формат предполагает возможным передачу нескольких электронных накладных одновременно. За основу взят формат [XMMO](http://pharmbase.com.ua/novyj-format-elektronnyx-dokumentov-xmmo/). Пары ключ-значение, для которых не существует значения (0 для чисел или пустые строки) могут быть исключены при формировании реальных выходных данных.

Спецификация-пример (1 документ, 1 наименование):

* Формат [JSON](http://json.org/json-ru.html)
* Кодировка [UTF-8](http://ru.wikipedia.org/wiki/UTF-8)
* `/* */` - это комментарий только для пояснения и он должен отсутствовать в реальных данных
* `[*]` - эту пару ключ-значение можно пропустить 
* `string, int, float, bool` - типы данных: “строка в двойных кавычках”, целое, число с плавающей точкой (разделитель точка “.”), логический (true|false)
* `string[timestamp]` - дата и время строкой в формате "dd.mm.yyyy hh:mm:ss"

```json
{
	/* Метаданные */
	"Meta": {
		/* Версия формата, int */
		"Version": 1,
		/* Отправитель (public key), string */
		"Sender": "f96b5d3726906aeb99fb6b2bc37f91a519cbc767",
		/* Агент передачи данных [*], string */
		"Agent": "My Cool Application"
	},
	/* Данные (массив заголовок/содержание) */
	"Data": [{
		/* Заголовок */
		"Head": {
			/* Уникальный идентификатор документа [*], string */
			"UID": "BEFF260B-8936-482A-B478-6032C8E4F862",
			/* Тип документа, string[РасходнаяНакладная|Прейскурант|Заказ|Потребность] */
			"DocType": "РасходнаяНакладная",
			/* Тип распаковки для дробного прихода, string[Десятичные|Простые] */
			"DivType": "Простые",
			/*  Дата документа, string[timestamp] */
			"DocDate": "10.02.2008 15:34:45",
			/*  Номер документа, string */
			"DocNum": "",
			/*  Комментарий [*], string */
			"UserNote": "",
			/* Идентификатор точки доставки (дислокации) [*], int */
			"LocationID": 2127,
			/* Название точки доставки (дислокации) [*], string */
			"LocationName": "Киоск 1",
			/* Адрес точки доставки [*], string */
			"LocationAdr": "Ул. Кирова 14",
			/* Сумма документа (без НДС), float */
			"DocSum": 445.50,
			/* Сумма НДС документа (если документ без НДС, то 0), float */
			"DocSumVat": 0.0,
			/* Номер налоговой накладной [*], int */
			"DocNalogNum": 0,
			/* Дата налоговой накладной [*], string[timestamp] */
			"DocNalogDate": "",
			/* Идентификатор вида оплаты. Актуально, если по контрагенту есть несколько соглашений [*], string */
			"PayID": "",
			/* Наименование вида оплаты [*], string */
			"PayName": "",
			/* Дата оплаты [*], string[timestamp] */
			"PayDate": "",
			/* Номер заказа [*], [string] */
			"OrderNum": [""],
			/* Наименование поставщика, string */
			"SellerName": "Опт.Поставщик",
			/* Код ЕГРПОУ поставщика, int */
			"SellerERGPOU": 87654321,
			/* Наименование покупателя, string */
			"ClientName": "Аптека №1(ПИРОГОВА 103А)",
			/* Код ЕГРПОУ покупателя (плательщика), int */
			"ClientERGPOU": 567894321,
			/* Номер договора [*], string */
			"Contract": "48456",
			/* Накладная подлежит регистрации (1 – подлежит, 0 – не подлежит) [*], int[0|1] */
			"Reg": 0
		},
		// Содержание (массив записей содержания) */
		"Item": [{
			/* Идентификатор товара (код поставщика), string */
			"SellerID": "5678",
			/* Код Мориона [*], int */
			"MorionID": 654723,
			/* Наименование товара, string */
			"DrugName": "КОРИОЛ ТАБ.6.25МГ #28",
			/* Наименование товара на украинском [*], string */
			"DrugNameUkr": "КОРІОЛ ТАБ.6.25МГ #28",
			/* Процент НДС, int */
			"DrugVat": 0,
			/* Название владельца лицензии [*], string */
			"OwnerName": "",
			/* Идентификатор владельца лицензии [*], string */
			"OwnerID": "",
			/* Название производителя, string */
			"MakerName": "КРКА",
			/* Идентификатор производителя [*], string */
			"MakerID": "675",
			/* Номер регистрации товара [*], string */
			"ItemRegNum": "UA/4128/01/04",
			/* Дата регистрации товара [*], string[timestamp] */
			"ItemRegStart": "27.08.2007",
			/* Срок регистрации товара [*], string[timestamp] */
			"ItemRegEnd": "27.08.2012",
			/* Идентификатор товара во внешней БД (например: ГосНоменклатура или др.) [*], string */
			"ItemExtID": "47804",
			/* Заводской штрих-код [*], string */
			"Barcode": "",
			/* Украинский классификатор товара ВЭД [*], string */
			"HsCode": "",
			/* Распаковка [*], int */
			"Divisor": 2,
			/* Принадлежность к ЦРГ (1 – принадлежит к ЦРГ,  0 – не принадлежит) [*], int[0|1] */
			"Ord333": 1,
			/* Акционный товар (1 – товар акционный, 0 – не акционный) [*], int[0|1] */
			"Promotion": 0,
			/* Идентификатор партии [*], string */
			"PartID": "84674576",
			/* Идентификатор серии [*], string */
			"SeriesID": "43452345",
			/* Представление серии [*], string */
			"SeriesName": "N53296",
			/* Дата производства [*], string[timestamp] */
			"SerisesStart": "",
			/* Срок годности, string[timestamp] */
			"SerisesEnd": "01.10.2009",
			/* Номер сертификата [*], string */
			"CertificateNum": "нет",
			/* Дата сертификата [*], string[timestamp] */
			"CertificateDate": "08.11.2007",
			/* Адрес zip-архива c картинками сертификата [*], string */
			"CertificateURL": "",
			/* Маркер заказа (поставщик получает маркер в заказе от аптеки и передает его в накладной) [*], string */
			"OrderMarker": "54687-78545",
			/* Единица измерения, string */
			"Unit": "упак.",
			/* Количество, float */
			"Quant": 15,
			/* Дробное количество – числитель (при простых дробях) [*], int */
			"QuantNum": 1,
			/* Дробное количество – знаменатель (при простых дробях) [*], int */
			"QuantDiv": 2,
			/* Цена таможенная или заводская, float */
			"PriceFactory": 33.85,
			/* Цена без НДС, float */
			"Price": 29.7,
			/* Цена НДС, float */
			"PriceVat": 0.0,
			/* Сумма без НДС, float */
			"Sum": 445.50,
			/* Сумма НДС, float */
			"SumVat": 0.0
		}]
	}]
}
```
